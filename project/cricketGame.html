<!-- if-else project -->
 <!DOCTYPE html>
 <html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cricket game</title>
    <style>
      body{
         text-align: center;
      }
    </style>
 </head>
 <body>
    <h1>Bat Ball Stump Game</h1>
    <button onclick="
  let computerChoice = generateComputerChoice();

  let winner =  getResult('Bat', computerChoice); 
   alert(`You have chosen Bat. computer choice is 
   ${computerChoice} 
    ${winner}
    ${score.displayScore()}`);

    ">Bat</button>
    
    <button onclick="
   computerChoice = generateComputerChoice();

  winner =  getResult('Ball', computerChoice); 
 
   alert(`You have chosen Ball. computer choice is ${computerChoice} 
    ${winner}
    ${score.displayScore()} `);

    " >Ball</button>

    <button onclick="
 computerChoice = generateComputerChoice();

 winner =  getResult('Stump', computerChoice) 
   alert(`You have chosen Ball. computer choice is 
   ${computerChoice} 
   ${winner}
   
  ${score.displayScore()}`);


    " >Stump</button>

    <button onclick="
        localStorage.clear();

        resetScore(scoreStr);
    ">Reset</button>




<script>
   let scoreStr = localStorage.getItem('score');
   let score;
   resetScore(scoreStr);

   function resetScore(scoreStr){
    score = JSON.parse(scoreStr) || {
   win: 0,
   lost: 0,
   tie: 0,
};


score.displayScore =   function(){
      localStorage.setItem('score', JSON.stringify(score));
     return `won: ${score.win}, lost: ${score.lost}, Tie: ${score.tie}`;
   };
}

   function generateComputerChoice(){
      let computerChoice;
      let randomNumber = Math.random() * 3;
   if(randomNumber>0 && randomNumber<=1){
     computerChoice = 'Bat';
   }
   else if(randomNumber>1 && randomNumber<=2){
       computerChoice ='Ball';
   }
   else{
      computerChoice = 'Stump';
   }

   return computerChoice;

   }

   function getResult(userMove , computerMove){
      if(userMove === 'Bat'){
         
if(computerMove === 'Ball'){
   score.win++;
   return  'user has won.';
}
else if(computerMove === 'Bat'){
   score.tie++;
   return `it's a tie`;
}
   else {
      score.lost++;
      return 'computer has won.';
   }
      }
      
      else if(userMove === 'Ball'){
         if(computerChoice === 'Ball'){
            score.tie++;
            return `it's a tie`;
}
else if(computerChoice === 'Bat'){
   score.lost++;
   return 'computer has won.';
}
   else{
      score.win++;
      return 'user has won.';
  
   }
        
      }

      else{
         if(computerMove === 'Ball'){
            score.lost++;
            return 'computer has won';
}
else if(computerMove === 'Bat'){
   score.win++;
   return 'user has won.';
}
   else {
      score.tie++;
      return `it's a tie`;
   }
      }
   }

</script>

 </body>
 </html>